<?xml version="1.0" encoding="utf-8"?>
<Configuration>
    <Author>
        <Name>S. V. Paulauskas</Name>
        <Email>spaulaus AT utk DOT edu</Email>
        <Date>September 16, 2016</Date>
    </Author>

    <Description>
        Master configuration file for e14060 at NSCL. This configuration should
        NOT be changed in any way.
    </Description>

    <Global>
        <Revision version="F"/>
        <BitResolution value="12"/>
        <EventWidth unit="s" value="1e-6"/>
        <OutputPath>./</OutputPath>
        <NumOfTraces value="50"/>
        <HasRaw value="true"/>
    </Global>

    <DetectorDriver>
        <Analyzer name="WaveformAnalyzer"/>
        <Analyzer name="FittingAnalyzer" type="gsl"/>
        <Processor name="GeProcessor"/>
        <Processor name="PspmtProcessor" vd="SIB064_0926" scale="512"
                   offset="512" threshold="50"/>
        <Processor name="VandleProcessor"
                   types="medium" res="2" offset="2000" NumStarts="1"/>
        <Processor name="E14060Processor" GeLow="0" GeHigh="99999"/>
    </DetectorDriver>

    <Map>
        <Module number="0">
            <Channel number="0" type="pspmt" subtype="dynode" tags="start">
                The high gain dynode signal that will be used to gate the gamma
                ray detectors as well as provide the start signal for VANDLE.
            </Channel>
            <Channel number="1" type="pspmt" subtype="dynode">
                The low gain dynode signal that will be used to look at
                implants. This is a carbon copy of M0C0. </Channel>
            <Channel number="4" type="pspmt" subtype="anode" tags="xa">
                XA position from the PSPMT in high gain. </Channel>
            <Channel number="5" type="pspmt" subtype="anode" tags="xb">
                XB position from the PSPMT in high gain. </Channel>
            <Channel number="6" type="pspmt" subtype="anode" tags="ya">
                YA position from the PSPMT in high gain. </Channel>
            <Channel number="7" type="pspmt" subtype="anode" tags="yb">
                YB position from the PSPMT in high gain. </Channel>
            <Channel number="8" type="pspmt" subtype="anode" tags="xa">
                XA position from the PSPMT in low gain. </Channel>
            <Channel number="9" type="pspmt" subtype="anode" tags="xb">
                XB position from the PSPMT in low gain. </Channel>
            <Channel number="10" type="pspmt" subtype="anode" tags="ya">
                YA position from the PSPMT in low gain. </Channel>
            <Channel number="11" type="pspmt" subtype="anode" tags="yb">
                YB position from the PSPMT in low gain. </Channel>
            <Channel number="12" type="generic" subtype="veto">
                The left side of the veto detector that is situated behind
                the PSPMT. </Channel>
            <Channel number="13" type="generic" subtype="veto">
                The left side of the veto detector that is situated behind
                the PSPMT. </Channel>
            <Channel number="15" type="generic" subtype="pulser">
                This channel has a 100 Hz pulser connected for monitoring
                dead time related issues. </Channel>
        </Module>
        <Module number="1">
            <Channel number="0" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="1" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="2" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="3" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="4" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="5" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="6" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="7" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="8" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="9" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="10" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="11" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="12" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="13" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="14" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="15" type="vandle" subtype="medium"
                     tags="right"> </Channel>
        </Module>
        <Module number="2">
            <Channel number="0" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="1" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="2" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="3" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="4" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="5" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="6" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="7" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="8" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="9" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="10" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="11" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="12" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="13" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="14" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="15" type="vandle" subtype="medium"
                     tags="right"> </Channel>
        </Module>
        <Module number="3">
            <Channel number="0" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="1" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="2" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="3" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="4" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="5" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="6" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="7" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="8" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="9" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="10" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="11" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="12" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="13" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="14" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="15" type="vandle" subtype="medium"
                     tags="right"> </Channel>
        </Module>
        <Module number="4">
            <Channel number="0" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="1" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="2" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="3" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="4" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="5" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="6" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="7" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="8" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="9" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="10" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="11" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="12" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="13" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="14" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="15" type="vandle" subtype="medium"
                     tags="right"> </Channel>
        </Module>
        <Module number="5">
            <Channel number="0" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="1" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="2" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="3" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="4" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="5" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="6" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="7" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="8" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="9" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="10" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="11" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="12" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="13" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="14" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="15" type="vandle" subtype="medium"
                     tags="right"> </Channel>
        </Module>

        <Module number="6">
            <Channel number="0" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="1" type="vandle" subtype="medium"
                     tags="right"> </Channel>
            <Channel number="2" type="vandle" subtype="medium"
                     tags="left"> </Channel>
            <Channel number="3" type="vandle" subtype="medium"
                     tags="right"> </Channel>
        </Module>
        <Module number="7">
            <Channel number="0" type="ge" subtype="clover_high"> </Channel>
            <Channel number="1" type="ge" subtype="clover_high"> </Channel>
            <Channel number="2" type="ge" subtype="clover_high"> </Channel>
            <Channel number="3" type="ge" subtype="clover_high"> </Channel>
            <Channel number="4" type="ge" subtype="clover_low"> </Channel>
            <Channel number="5" type="ge" subtype="clover_low"> </Channel>
            <Channel number="6" type="ge" subtype="clover_low"> </Channel>
            <Channel number="7" type="ge" subtype="clover_low"> </Channel>
            <Channel number="8" type="pin" subtype="de1">
                This is the pin that the beam will first encounter.
                The upstream pin. </Channel>
            <Channel number="9" type="pin" subtype="de2">
                This is the second pin that the beam will encounter.
                The downstream pin. </Channel>
            <Channel number="11" type="tac" subtype="pin1_i2n">
                Measures the ToF between the I2N signal and PIN1. </Channel>
            <Channel number="12" type="tac" subtype="pin1_i2s">
                Measures the ToF between the I2S signal and PIN1. </Channel>
            <Channel number="13" type="tac" subtype="pin2_i2n">
                Measures the ToF between the I2N signal and PIN2. </Channel>
            <Channel number="14" type="tac" subtype="pin2_i2s">
                Measures the ToF between the I2S signal and PIN2. </Channel>
            <Channel number="15" type="tac" subtype="i2n_i2s">
                This TAC will measure the time difference between the
                I2N and I2S. Provides rough positioning of the beam in
                the scintillator.  This will need to be calibrated for
                the TOF so that the rest </Channel>
        </Module>
        <Module number="8">
            <Channel number="0" type="hagrid" subtype="hagrid">
                <Calibration model="raw"> </Calibration>
            </Channel>
            <Channel number="1" type="hagrid" subtype="hagrid">
                <Calibration model="raw"> </Calibration>
            </Channel>
            <Channel number="2" type="hagrid" subtype="hagrid">
                <Calibration model="raw"> </Calibration>
            </Channel>
            <Channel number="3" type="hagrid" subtype="hagrid">
                <Calibration model="raw"> </Calibration>
            </Channel>
            <Channel number="4" type="hagrid" subtype="hagrid">
                <Calibration model="raw"> </Calibration>
            </Channel>
            <Channel number="5" type="hagrid" subtype="hagrid">
                <Calibration model="raw"> </Calibration>
            </Channel>
            <Channel number="6" type="hagrid" subtype="hagrid">
                <Calibration model="raw"> </Calibration>
            </Channel>
            <Channel number="7" type="hagrid" subtype="hagrid">
                <Calibration model="raw"> </Calibration>
            </Channel>
            <Channel number="8" type="hagrid" subtype="hagrid">
                <Calibration model="raw"> </Calibration>
            </Channel>
            <Channel number="9" type="hagrid" subtype="hagrid">
                <Calibration model="raw"> </Calibration>
            </Channel>
            <Channel number="10" type="hagrid" subtype="hagrid">
                <Calibration model="raw"> </Calibration>
            </Channel>
            <Channel number="11" type="hagrid" subtype="hagrid">
                <Calibration model="raw"> </Calibration>
            </Channel>
        </Module>
        <Module number="9">
            <Channel number="0" type="nai" subtype="beast">
                <Calibration model="raw"> </Calibration>
            </Channel>
            <Channel number="1" type="nai" subtype="beast">
                <Calibration model="raw"> </Calibration>
            </Channel>
            <Channel number="2" type="nai" subtype="beast">
                <Calibration model="raw"> </Calibration>
            </Channel>
            <Channel number="3" type="nai" subtype="beast">
                <Calibration model="raw"> </Calibration>
            </Channel>
            <Channel number="4" type="nai" subtype="beast">
                <Calibration model="raw"> </Calibration>
            </Channel>
            <Channel number="5" type="nai" subtype="beast">
                <Calibration model="raw"> </Calibration>
            </Channel>
            <Channel number="6" type="nai" subtype="beast">
                <Calibration model="raw"> </Calibration>
            </Channel>
            <Channel number="7" type="nai" subtype="beast">
                <Calibration model="raw"> </Calibration>
            </Channel>
        </Module>
        <Module number="10">
            <Channel number="15" type="ignore" subtype="ignore"> </Channel>
        </Module>
    </Map>

    <TreeCorrelator name="root" verbose="False">
        <!-- This defines the beta place that will be used with the Gamma
        place to define the beta-gated gamma spectra. -->
        <Place type="PlaceOR" name="Beta" fifo="4">
            <Place type="PlaceThreshold" name="pspmt_dynode_0"
                   low_limit="50.0" high_limit="16382" replace="true"/>
        </Place>

        <!-- Defines the Gamma place for checking if we had a gamma-ray event
         in the system -->
        <Place type="PlaceOR" name="Gamma">
            <Place type="PlaceOR" name="Clover0">
                <Place type="PlaceThreshold" name="ge_clover_high_0-3"
                       low_limit="20.0" high_limit="99999" replace="true"/>
            </Place>
        </Place>

        <!-- Here we define what makes up an implant event. We have both one
          of the upstream pins as well as the dynode signal from the PSPMT-->
        <Place type="PlaceAND" name="Implant">
            <Place type="PlaceThreshold" name="pspmt_dynode_0"
                   low_limit="10" high_limit="99999" replace="true"/>
            <Place type="PlaceThreshold" name="pin_de1_0"
                   low_limit="50" high_limit="99999" replace="true"/>
            <Place type="PlaceThreshold" name="pin_de2_0"
                   low_limit="50" high_limit="99999" replace="true"/>
        </Place>
    </TreeCorrelator>

    <TimeCalibration verbose_timing="False">
        <Vandle>
        </Vandle>
    </TimeCalibration>

    <Physical>
        <NeutronMass unit="MeV/c/c" value="939.565560"/>
        <SpeedOfLight unit="cm/ns" value="29.9792458"/>
        <SpeedOfLightSmall unit="cm/ns" value="12.65822"/>
        <SmallLength unit="cm" value="60.0"/>
        <SpeedOfLightBig unit="cm/ns" value="15.22998"/>
        <BigLength unit="cm" value="200.0"/>
        <SpeedOfLightMedium unit="cm/ns" value="13.4414"/>
        <MediumLength unit="cm" value="120.0"/>
    </Physical>

    <Trace>
        <TraceDelay unit="ns" value="264"/>
        <QdcCompression value="4.0"/>
        <WaveformRange>
            <Range name="pspmt:dynode">
                <Low value="7"/>
                <High value="25"/>
            </Range>
        </WaveformRange>
    </Trace>

    <Fitting>
        <SigmaBaselineThresh value="3.0"/>
        <Parameters>
            <Pars name="vandle:medium">
                <Beta value="0.254373"/>
                <Gamma value="0.208072"/>
            </Pars>
            <Pars name="pspmt:dynode">
                <Beta value=" 0.125515810164938"/>
                <Gamma value="0.173426623471837"/>
            </Pars>
        </Parameters>
    </Fitting>
    <Notebook file="notes.txt" mode="r"/>
</Configuration>
